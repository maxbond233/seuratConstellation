% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_knn_graph.R
\name{build_knn_graph}
\alias{build_knn_graph}
\title{Build KNN Graph from Seurat Object}
\usage{
build_knn_graph(
  seu,
  cluster_col,
  reduction = "umap",
  k = 15,
  knn.outlier.th = 2,
  outlier.frac.th = 0.5,
  color_by = NULL,
  hull_by = NULL
)
}
\arguments{
\item{seu}{A Seurat object (V5 compatible)}

\item{cluster_col}{Character. Column name in meta.data for cluster identity}

\item{reduction}{Character. Name of dimensional reduction to use. Default "umap"}

\item{k}{Integer. Number of nearest neighbors. Default 15}

\item{knn.outlier.th}{Numeric. Threshold for outlier detection. Default 2}

\item{outlier.frac.th}{Numeric. Fraction threshold for outlier cells. Default 0.5}

\item{color_by}{DEPRECATED. Use assign_cluster_groups(group_type = "color").}

\item{hull_by}{DEPRECATED. Use assign_cluster_groups(group_type = "hull").}
}
\value{
A list with class "constellation_knn" containing:
\item{knn.result}{Raw KNN results from RANN::nn2}
\item{knn.cl.df}{Data frame of cluster-to-cluster edge information}
\item{cluster_info}{Data frame with cluster metadata}
\item{params}{List of parameters used}
}
\description{
Constructs a KNN graph for constellation plot visualization

Builds a K-nearest neighbor graph from a Seurat object for
constellation plot visualization. This function extracts cell embeddings
and cluster information to compute inter-cluster connectivity.

NOTE: color_by and hull_by are deprecated. Use assign_cluster_groups()
after building the graph for explicit grouping logic.
}
\examples{
\dontrun{
knn_graph <- build_knn_graph(seu, cluster_col = "celltype", reduction = "umap")
knn_graph <- build_knn_graph(seu, cluster_col = "celltype", color_by = "cell_class")
}
}
